NODE_ENV=development
LOG_LEVEL=debug
PORT=3001

# PostgreSQL Connection
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=relay
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_SSL=false

# Connection Pool Size (increase for high throughput)
# Default: 10, Recommended for high throughput: 50
POSTGRES_POOL_SIZE=10

# Read Pool Size (separate pool for dashboard/metrics queries)
# Set to 0 to disable (use write pool for all queries)
# Enable to prevent dashboard queries from blocking message operations
POSTGRES_READ_POOL_SIZE=0

# Queue Configuration
QUEUE_NAME=queue
ACK_TIMEOUT_SECONDS=30
MAX_ATTEMPTS=3
REQUEUE_BATCH_SIZE=100
OVERDUE_CHECK_INTERVAL_MS=5000
MAX_PRIORITY_LEVELS=10

# Security (optional - enables API key authentication)
SECRET_KEY=

# Activity Logging (disable for maximum throughput)
ACTIVITY_LOG_ENABLED=true
ACTIVITY_LOG_RETENTION_HOURS=24

# Anomaly Detection Thresholds
ACTIVITY_BURST_THRESHOLD_COUNT=50
ACTIVITY_BURST_THRESHOLD_SECONDS=5
ACTIVITY_FLASH_MESSAGE_THRESHOLD_MS=500
ACTIVITY_LONG_PROCESSING_THRESHOLD_MS=10000

# Enqueue Buffering (enable for high throughput)
# Batches individual enqueue calls for better performance
ENQUEUE_BUFFER_ENABLED=false
ENQUEUE_BUFFER_MAX_SIZE=50
ENQUEUE_BUFFER_MAX_WAIT_MS=100

# ===========================================
# HIGH THROUGHPUT CONFIGURATION (10,000+ msg/sec)
# Uncomment below settings for production high-load scenarios
# ===========================================
# POSTGRES_POOL_SIZE=50
# POSTGRES_READ_POOL_SIZE=20
# ENQUEUE_BUFFER_ENABLED=true
# ENQUEUE_BUFFER_MAX_SIZE=100
# ENQUEUE_BUFFER_MAX_WAIT_MS=50
# ACTIVITY_LOG_ENABLED=false
# ACTIVITY_BURST_THRESHOLD_COUNT=200